import type { WorkflowRecord } from "@/types";

export const mockWorkflowRecords: WorkflowRecord[] = [
  // Tree 001 - Completed assessment
  {
    id: "wr-001",
    entity_id: "ent-tree-001",
    workflow_id: "wf-tree-assessment",
    workflow: { id: "wf-tree-assessment", name: "Palm Tree Assessment" },
    current_step_id: null,
    current_step: null,
    status: "completed",
    step_submissions: [
      {
        id: "sub-001-1",
        step_id: "step-initial-check",
        data: {
          condition: "good",
          visualIssues: "None observed",
          notes: "Tree looks healthy",
        },
        submitted_at: "2024-03-10T10:00:00Z",
        submitted_by: "John Smith",
        status: "approved",
        reviewed_at: "2024-03-10T10:30:00Z",
        reviewed_by: "Manager A",
      },
      {
        id: "sub-001-2",
        step_id: "step-detailed-assessment",
        data: {
          trunkCondition: "healthy",
          crownCondition: "healthy",
          pestPresence: false,
          estimatedYield: 45,
        },
        submitted_at: "2024-03-10T11:30:00Z",
        submitted_by: "John Smith",
        status: "approved",
        reviewed_at: "2024-03-10T12:00:00Z",
        reviewed_by: "Manager A",
      },
      {
        id: "sub-001-3",
        step_id: "step-final-review",
        data: {
          recommendation: "no_action",
          priority: "low",
          followUpDate: "2024-09-10",
          summary: "Tree is in excellent condition. No action required.",
        },
        submitted_at: "2024-03-10T14:00:00Z",
        submitted_by: "John Smith",
        status: "submitted",
      },
    ],
    started_at: "2024-03-10T10:00:00Z",
    completed_at: "2024-03-10T14:00:00Z",
    created_at: "2024-03-10T09:00:00Z",
    updated_at: "2024-03-10T14:00:00Z",
  },
  // Tree 002 - In progress (at step 2)
  {
    id: "wr-002",
    entity_id: "ent-tree-002",
    workflow_id: "wf-tree-assessment",
    workflow: { id: "wf-tree-assessment", name: "Palm Tree Assessment" },
    current_step_id: "step-detailed-assessment",
    current_step: {
      id: "step-detailed-assessment",
      name: "Detailed Assessment",
      order_index: 1,
    },
    status: "in_progress",
    step_submissions: [
      {
        id: "sub-002-1",
        step_id: "step-initial-check",
        data: {
          condition: "fair",
          visualIssues: "Some yellowing on leaves",
          notes: "Needs closer inspection",
        },
        submitted_at: "2024-03-12T09:30:00Z",
        submitted_by: "Jane Doe",
        status: "approved",
        reviewed_at: "2024-03-12T10:00:00Z",
        reviewed_by: "Manager B",
      },
    ],
    started_at: "2024-03-12T09:30:00Z",
    completed_at: null,
    created_at: "2024-03-12T09:00:00Z",
    updated_at: "2024-03-12T09:30:00Z",
  },
  // Tree 005 - Not started
  {
    id: "wr-003",
    entity_id: "ent-tree-005",
    workflow_id: "wf-tree-assessment",
    workflow: { id: "wf-tree-assessment", name: "Palm Tree Assessment" },
    current_step_id: "step-initial-check",
    current_step: {
      id: "step-initial-check",
      name: "Initial Check",
      order_index: 0,
    },
    status: "not_started",
    step_submissions: [],
    started_at: null,
    completed_at: null,
    created_at: "2024-03-14T00:00:00Z",
    updated_at: "2024-03-14T00:00:00Z",
  },
  // Equipment 002 - In progress maintenance
  {
    id: "wr-004",
    entity_id: "ent-equip-002",
    workflow_id: "wf-equipment-maintenance",
    workflow: { id: "wf-equipment-maintenance", name: "Equipment Maintenance" },
    current_step_id: "step-maintenance-work",
    current_step: {
      id: "step-maintenance-work",
      name: "Maintenance Work",
      order_index: 1,
    },
    status: "in_progress",
    step_submissions: [
      {
        id: "sub-004-1",
        step_id: "step-pre-inspection",
        data: {
          operatingHours: 1250,
          visualCondition: "wear",
          fluidLevels: "low",
        },
        submitted_at: "2024-03-15T08:00:00Z",
        submitted_by: "Tech Mike",
        status: "submitted",
      },
    ],
    started_at: "2024-03-15T08:00:00Z",
    completed_at: null,
    created_at: "2024-03-15T07:30:00Z",
    updated_at: "2024-03-15T08:00:00Z",
  },
  // Plot 001 - Completed inspection with rejection example
  {
    id: "wr-005",
    entity_id: "ent-plot-001",
    workflow_id: "wf-plot-inspection",
    workflow: { id: "wf-plot-inspection", name: "Plot Inspection" },
    current_step_id: null,
    current_step: null,
    status: "completed",
    step_submissions: [
      {
        id: "sub-005-1",
        step_id: "step-boundary-check",
        data: {
          boundaryIntact: true,
          fencingCondition: "good",
          accessPoints: 2,
        },
        submitted_at: "2024-03-08T09:00:00Z",
        submitted_by: "Field Agent A",
        status: "approved",
        reviewed_at: "2024-03-08T09:30:00Z",
        reviewed_by: "Supervisor X",
      },
      // Example of rejection + resubmission for step-soil-analysis
      {
        id: "sub-005-2a",
        step_id: "step-soil-analysis",
        data: {
          phLevel: 5.2,
          moistureLevel: "low",
          nutrientStatus: "poor",
        },
        submitted_at: "2024-03-08T10:00:00Z",
        submitted_by: "Field Agent A",
        status: "rejected",
        reviewed_at: "2024-03-08T10:30:00Z",
        reviewed_by: "Supervisor X",
        rejection_reason: "pH level seems incorrect, please re-measure",
      },
      {
        id: "sub-005-2b",
        step_id: "step-soil-analysis",
        data: {
          phLevel: 6.8,
          moistureLevel: "optimal",
          nutrientStatus: "adequate",
        },
        submitted_at: "2024-03-08T11:00:00Z",
        submitted_by: "Field Agent A",
        status: "approved",
        reviewed_at: "2024-03-08T11:30:00Z",
        reviewed_by: "Supervisor X",
      },
      {
        id: "sub-005-3",
        step_id: "step-vegetation-survey",
        data: {
          treeCount: 45,
          weedPresence: "light",
          diseaseIndicators: false,
        },
        submitted_at: "2024-03-08T14:00:00Z",
        submitted_by: "Field Agent A",
        status: "approved",
        reviewed_at: "2024-03-08T14:30:00Z",
        reviewed_by: "Supervisor X",
      },
      {
        id: "sub-005-4",
        step_id: "step-report-generation",
        data: {
          overallRating: "good",
          recommendations: "Continue current maintenance schedule",
          nextInspectionDate: "2024-06-08",
        },
        submitted_at: "2024-03-08T16:00:00Z",
        submitted_by: "Field Agent A",
        status: "submitted",
      },
    ],
    started_at: "2024-03-08T09:00:00Z",
    completed_at: "2024-03-08T16:00:00Z",
    created_at: "2024-03-08T08:00:00Z",
    updated_at: "2024-03-08T16:00:00Z",
  },
];

// Entity type to workflow assignments
export const mockEntityTypeWorkflows: Record<string, string[]> = {
  "et-palm-tree": [
    "wf-tree-assessment",
    "wf-pest-control",
    "wf-fertilizer-application",
  ],
  "et-plot": ["wf-plot-inspection", "wf-harvest-cycle", "wf-new-planting"],
  "et-equipment": ["wf-equipment-maintenance"],
  "et-worker": ["wf-safety-training", "wf-worker-onboarding"],
};
